
version: '2'
services:
  sparkmaster:
    image: shawks03/sparktitantests
    container_name: sparkmaster
    volumes:
      - ./scripts:/scripts
    command: /scripts/run-master.sh
    ports:
      - 8080:8080
  
  spark_slave:
    image: shawks03/sparktitantests
    command: /scripts/run-slave.sh
    depends_on:
      - sparkmaster
    volumes:
      - ./scripts:/scripts
  
  spark_util:
    image: shawks03/sparktitantests
    container_name: spark_util
    command: /scripts/run-submitter.sh
    volumes:
      - ./scripts:/scripts
    depends_on:
      - spark_slave

#  titan:
#    image: shawks03/sparktitantests
#    container_name: titan
#    command: /scripts/run-titan.sh
#    volumes:
#      - ./scripts:/scripts